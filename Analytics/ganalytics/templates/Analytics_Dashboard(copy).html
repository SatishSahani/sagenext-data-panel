{% extends 'dashboard.html' %}
{% load static %}
{% block content %}
<div class="col-3">
    <form class="form-horizontal form-bordered">
         <div class="form-group row">
            {% comment %} <label class="form-label col-form-label col-lg-4">Default Date Ranges</label>  {% endcomment %}
             <div class="col-lg-8">
                <div class="input-group" id="default-daterange">
                    {% comment %} <input type="text" name="default-daterange" class="form-control" value="" placeholder="click to select the date range"> {% endcomment %}
                    {% comment %} <div class="input-group-text"><i class="fa fa-calendar"></i></div> {% endcomment %}
                </div> 
             </div>
        </div> 
        <div class="form-group row">
            <label class="form-label col-form-label col-lg-4">Advance Date Ranges</label>
            <div class="col-lg-8">
                <div id="advance-daterange" class="btn btn-default d-flex text-start align-items-center">
                    <span class="flex-1">Jan 24, 2012 - June 22, 2023</span>
                    <i class="fa fa-caret-down"></i>
                </div>
            </div>
        </div>
    </form>
</div>
    <!-- Custom Date -->
    <div class="row">
        <!-- BEGIN col-3 -->
        <div class="col-xl-3 col-md-6">
            <div class="widget widget-stats bg-blue">
                <div class="stats-icon"><i class="fa fa-desktop"></i></div>
                <div class="stats-info">
                    <h4>TOTAL CLICKS</h4>
                    <p>31,922</p>	
                </div>
                <div class="stats-link">
                    <a href="javascript:;">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
                </div>
            </div>
        </div>
        
        <!-- END col-3 -->
        <!-- BEGIN col-3 -->
        <div class="col-xl-3 col-md-6">
            <div class="widget widget-stats bg-info">
                <div class="stats-icon"><i class="fa fa-link"></i></div>
                <div class="stats-info">
                    <h4>BOUNCE RATE</h4>
                    <p>80.44%</p>	
                </div>
                <div class="stats-link">
                    <a href="javascript:;">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
                </div>
            </div>
        </div>
        <!-- END col-3 -->
        <!-- BEGIN col-3 -->
        <div class="col-xl-3 col-md-6">
            <div class="widget widget-stats bg-orange">
                <div class="stats-icon"><i class="fa fa-users"></i></div>
                <div class="stats-info">
                    <h4>CONVERSIONS</h4>
                    <p>1,291,922</p>	
                </div>
                <div class="stats-link">
                    <a href="javascript:;">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
                </div>
            </div>
        </div>
        <!-- END col-3 -->
        <!-- BEGIN col-3 -->
        <div class="col-xl-3 col-md-6">
            <div class="widget widget-stats bg-red">
                <div class="stats-icon"><i class="fa fa-clock"></i></div>
                <div class="stats-info">
                    <h4>CPC</h4>
                    <p>2.23</p>	
                </div>
                <div class="stats-link">
                    <a href="javascript:;">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
                </div>
            </div>
        </div>
        <!-- END col-3 -->
    </div>
    <!-- END row -->
<div class="row">
    <!-- BEGIN col-8 -->
    <div class="col-xl-12">
        <!-- BEGIN panel -->
        <div class="panel panel-inverse" data-sortable-id="index-1">
            <div class="panel-heading">
                <h4 class="panel-title">Website Analytics (Last 7 Days)</h4>
                <div class="panel-heading-btn">
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-default" data-toggle="panel-expand"><i class="fa fa-expand"></i></a>
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-success" data-toggle="panel-reload"><i class="fa fa-redo"></i></a>
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-warning" data-toggle="panel-collapse"><i class="fa fa-minus"></i></a>
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-danger" data-toggle="panel-remove"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="panel-body pe-1">
                <canvas id="Chart' width="400" height="100"></canvas>
            </div>
        </div> 

        <script>
            // Static data for the chart
            var labels2 = [{% for data in data %}'{{ data.device_category }}',{% endfor %}];
            var dataset1 = [{% for data in data %}{{ data.device_users }},{% endfor %}];
            var dataset2 = [{% for data in data %}{{ data.device_new_users }},{% endfor %}];
        
            // Create the chart
            var ctx2 = document.getElementById('Chart').getContext('2d');
            var myChart2 = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: labels2,
                    datasets: [
                        {
                            label: 'day_users',
                            data: dataset1,
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 3,
                            yAxisID: 'y-axis-1'
                        },
                        {
                            label: 'day_sessions',
                            data: dataset2,
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 3,
                            yAxisID: 'y-axis-2'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: [
                            {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                id: 'y-axis-1'
                            },
                            {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                id: 'y-axis-2'
                            }
                        ]
                    }
                }
            });
          </script>
{% endblock content %}
